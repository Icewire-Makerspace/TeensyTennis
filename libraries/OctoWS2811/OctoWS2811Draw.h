#ifndef OCTOWS2811DRAW_H
#define OCTOWS2811DRAW_H

#include "OctoWS2811.h"

// RGB colours
#define GREEN 0x00FF00
#define BLACK 0x000000
#define BROWN 0x8B4513
#define WHITE 0x808080
#define LIGHT_GRAY 0x404040
#define DARK_GRAY 0x202020
#define BLUE 0x0000FF
#define RED 0xFF0000
#define YELLOW  0xFFFF00
#define PURPLE  0xFF00FF
#define ORANGE  0xFF2500
#define ORANGE2 0xFF5500

const int ascii_width = 8;
const int ascii_height = 6;

// ASCII alphabet
const uint8_t ascii_alph[26][6] = {
  {0x18, 0x24, 0x7E, 0x42, 0x42, 0x42},  // A
  {0x7C, 0x42, 0x7C, 0x42, 0x42, 0x7C},  // B
  {0x3E, 0x40, 0x40, 0x40, 0x40, 0x3E},  // C
  {0x7C, 0x42, 0x42, 0x42, 0x42, 0x7C},  // D
  {0x7E, 0x40, 0x7C, 0x40, 0x40, 0x7E},  // E
  {0x7E, 0x40, 0x7E, 0x40, 0x40, 0x40},  // F
  {0x3E, 0x40, 0x40, 0x46, 0x42, 0x3E},  // G
  {0x42, 0x42, 0x7E, 0x42, 0x42, 0x42},  // H
  {0x7E, 0x18, 0x18, 0x18, 0x18, 0x7E},  // I
  {0x7E, 0x08, 0x08, 0x08, 0x48, 0x70},  // J
  {0x44, 0x48, 0x70, 0x48, 0x44, 0x42},  // K
  {0x40, 0x40, 0x40, 0x40, 0x40, 0x7E},  // L
  {0x24, 0x5A, 0x5A, 0x5A, 0x5A, 0x5A},  // M
  {0x42, 0x62, 0x52, 0x4A, 0x46, 0x42},  // N
  {0x3C, 0x42, 0x42, 0x42, 0x42, 0x3C},  // O
  {0x7C, 0x42, 0x42, 0x7C, 0x40, 0x40},  // P
  {0x3C, 0x42, 0x42, 0x4A, 0x46, 0x3E},  // Q
  {0x7C, 0x42, 0x42, 0x7C, 0x44, 0x42},  // R
  {0x3E, 0x40, 0x3C, 0x02, 0x04, 0x78},  // S
  {0x7E, 0x18, 0x18, 0x18, 0x18, 0x18},  // T
  {0x42, 0x42, 0x42, 0x42, 0x42, 0x3C},  // U
  {0x42, 0x42, 0x42, 0x42, 0x24, 0x18},  // V
  {0x5A, 0x5A, 0x5A, 0x5A, 0x5A, 0x24},  // W
  {0x42, 0x24, 0x18, 0x18, 0x24, 0x42},  // X
  {0x42, 0x24, 0x18, 0x18, 0x18, 0x18},  // Y
  {0x7E, 0x04, 0x08, 0x10, 0x20, 0x7E}  // Z
};

// ASCII numbers
const uint8_t ascii_num[10][6] = {
  {0x3C, 0x46, 0x4A, 0x52, 0x62, 0x3C},  // 0
  {0x08, 0x18, 0x28, 0x08, 0x08, 0x08},  // 1
  {0x3C, 0x42, 0x04, 0x08, 0x10, 0x3E},  // 2
  {0x7C, 0x02, 0x7C, 0x02, 0x02, 0x7C},  // 3
  {0x04, 0x0C, 0x14, 0x3E, 0x04, 0x04},  // 4
  {0x7E, 0x40, 0x7E, 0x02, 0x02, 0x7C},  // 5
  {0x3C, 0x42, 0x40, 0x7E, 0x42, 0x3C},  // 6
  {0x7E, 0x02, 0x04, 0x08, 0x10, 0x20},  // 7
  {0x3C, 0x42, 0x3C, 0x42, 0x42, 0x3C},  // 8
  {0x3C, 0x42, 0x3E, 0x02, 0x42, 0x3C}  // 9
};


class OctoWS2811Draw {
public:
	OctoWS2811Draw(OctoWS2811* _leds, int _horizontalResolution, int _verticalResolution) : leds(_leds), horizontalResolution(_horizontalResolution), verticalResolution(_verticalResolution), color(0) {}
	
	void clearBuffer();
	void drawBuffer();
	
	void setColor(uint_fast8_t _color);
	
	void dot(int x, int y);
	void line(int x0, int y0, int x1, int y1);
	void rect(int x, int y, int w, int h);
	void letter(char letter, int x, int y);
	void string(const char *str, int x, int y);
	void number(int num, int x, int y);
	
private:
	void setPixel(int x, int y);
	
	OctoWS2811* leds;
	int horizontalResolution;
	int verticalResolution;
	
	uint_fast8_t color;
};

#endif